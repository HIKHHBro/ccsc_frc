# 安排
## 上层
### 抬升
1. 电机
    - 型号: 猎鹰
    - CAN ID: 5~6
1. 复位
2. 抬升
3. 自动收缩
### 抓取 
1. PCM
    - CAN ID :9
    - PCM channel: 0,1
2. 电机
    - Neo+SPA
    - PWM: 0
#### 功能
1. 气孔控制
2. 抓球电机pwm控制
#### 执行动作
1. 气阀
    1. 放下  - 1 true - 2 true
    2. 抓取  - 1 false - 2 false
    3. 抬起  - 1 true - 2 false
2. 电机 顺时针 速度为负值

### 发射
1. 1. 电机
    - 型号: Neo
    - PWM ID: 0~4
    - 型号: 猎鹰
    - CAN ID: 7 逆时针为俯视方向
#### 功能
1. 摄像头识别
2. 云台电机位置控制
3. 传送弹丸电机pwm控制
#### 执行动作
1. 传送1 电机 顺时针
2. 传送2 电机 逆时针
3. 摩擦轮 1和2都是逆时针
4. 云台pitch轴  顺时针
### 转盘
1. 1. 电机
    - 型号: 猎鹰
    - CAN ID: 8
#### 功能
1. 旋转控制
2. 指定颜色位置控制
## 底盘
1. 电机
    - 型号: 猎鹰
    - CAN ID: 1~4
### 手动
1. 底盘运动模型
    - 世界坐标系
    - 机体坐标系
2. 遥控和车子运动的单位换算
### 自动
1. 底盘里程计
    - 世界坐标系
    - 机体坐标系
2. 全局路径跟踪
## 指令
### 适配两种遥控
### 按键功能
1. 底盘
    1. 前后左右 
        - Xcon: 左摇杆
        - Joy: 摇杆
    2. 旋转
        - Xcon: 右摇杆水平通道
        - Joy: 摇杆旋转通道
2. 抓球
    - Xcon: RB 按下为放下 松开为抬起
    - Joy: 按键2
3. 复位
    - Xcon: back + start 同时按下超过两秒 
    - Joy: 按键5 + 按键6 同时按下超过两秒
4. 发射
    1. 射球
        - Xcon: 右压杆
        - Joy: 按键1
    2. 自动和自动发射 手动发射车的两个射灯为关闭状态，自动为开启 
        - Xcon:         按一次模式切换一次
        - Joy: 按键11   按一次模式切换一次


5. 云台
    - Xcon: 右摇杆竖直通道 
    - Joy: 模拟杆3
6. 高挂
    1. 伸张
        - Xcon:  
        - Joy: 按键7
    2. 高挂
        - Xcon:  
        - Joy: 按键8
7. 转盘
    1. 升起
        - Xcon:  
        - Joy: 按键3
    2. 圈数旋转
        - Xcon:  
        - Joy: 按键9
    3. 指定颜色旋转
        - Xcon:  
        - Joy: 按键10

## 单位转换
1. mm/s 对应电机线数输入
2. mm/s 
3. 


## 方向和坐标
1. 电机 逆时针为正




# 进度      


*2021.01.06*   
* [x] 颜色传感器使用    
*2021.01.07*    
* [x] 下载摄像头所有软件    
* [x] 带无线网卡    
* [ ] 摄像头使用    
* [X] neo pwm 电机使用    
* [x] 上层代码编写    
*2021.01.08*
* [x] 下载摄像头镜像
* [X] 完成旋转代码编写
* [x] 完成抓取和抬升编写
* [X] 使用气缸
* [X] 带无线网卡  
*2021.01.09*
* [X] 抬升
* [X] 抓取 
*2021.01.10*
* [X] 拿电机
* [ ] 完成发射代码编写和摄像头
* [X] 测试抬升代码
*2021.01.11*
* [ ] 完成发射代码编写和摄像头
* [X] 编写抬升复位代码

*2021.01.12*
* [X] 完善旋转代码
* [ ] 测试发射代码编写和摄像头
*2021.01.13*
* [ ] 测试旋转代码
*2021.01.14*
* [ ] 预留风险时间
*2021.01.15*
* [X] 底盘代码完善和自动模式的编写
* [X] 底盘调试和自动模式的调试
*2021.01.16*
* [ ] 上层调试
* [ ] 带两个限位开关
*2021.01.19*
* [ ] 待摄像头的降压模块
* [ ] 路由刷固件

